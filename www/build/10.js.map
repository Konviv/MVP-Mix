{"version":3,"sources":["../../src/pages/savings-bucket/savings-bucket.module.ts","../../src/pages/savings-bucket/savings-bucket.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SavingsBucketPage } from './savings-bucket';\n\n@NgModule({\n  declarations: [\n    SavingsBucketPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SavingsBucketPage),\n  ],\n})\nexport class SavingsBucketPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/savings-bucket/savings-bucket.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {TestServiceProvider} from \"../../providers/test-service/test-service\";\n\n@IonicPage()\n@Component({\n  selector: 'page-savings-bucket',\n  templateUrl: 'savings-bucket.html',\n})\nexport class SavingsBucketPage {\n\n  savingsTotal = 0;\n  avgMonthlySpending = 0;\n  amountInSavings = 0;\n  allAccounts;\n  allTransactions = [];\n  amountSpentEachMonth = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public testService: TestServiceProvider) {\n    this.getSavings();\n    this.averageMonthlySpending();\n  }\n\n  // Get amount currently available in savings account\n  getSavings() {\n    this.testService.getAccounts()\n      .subscribe(\n        data => {\n          this.allAccounts = data.result.map(i => {\n            if (i.subtype == \"savings\" && i.balances.available != null) {\n              this.amountInSavings += i.balances.available;\n            }\n          });\n        }\n      );\n  }\n\n  // Get average monthly spending\n  averageMonthlySpending() {\n    this.testService.getTransactions()\n      .subscribe(\n        data => {\n          this.allTransactions = data.result.map((data) => {\n\n            // Get month of current transaction\n            var date = new Date(data.date);\n            var month = date.getUTCMonth();\n\n            if (data.amount != null) {\n              this.amountSpentEachMonth[month] += data.amount;   // Get total amount spent in that month\n            }\n          });\n\n          let activeMonths = 0;\n          let monthlyTotal = 0;\n\n          // Get number of months that money was spent\n          for (let i = 0; i < this.amountSpentEachMonth.length; i++) {\n            if (this.amountSpentEachMonth[i] > 0) {\n              activeMonths++;\n            }\n          }\n\n          // Get total spent in all months\n          for (let i = 0; i < this.amountSpentEachMonth.length; i++) {\n            monthlyTotal += this.amountSpentEachMonth[i];\n          }\n\n          if (activeMonths > 0) {\n            this.avgMonthlySpending = monthlyTotal / activeMonths;\n          }\n        },\n        error => alert(error)\n      );\n  }\n\n  changeSavingsTotal(months) {\n    this.savingsTotal = this.avgMonthlySpending * months;                       // Multiply total by month goal\n    this.savingsTotal.toFixed(2);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/savings-bucket/savings-bucket.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/accounts/accounts.module.ts","../../src/pages/accounts/accounts.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AccountsPage } from './accounts';\n\n@NgModule({\n  declarations: [\n    AccountsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AccountsPage),\n  ],\n})\nexport class AccountsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/accounts/accounts.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport { Http, Headers } from '@angular/http';\n\nimport {AllTransactionsPage} from '../all-transactions/all-transactions';\nimport {CheckingPage} from '../checking/checking';\nimport {SavingsPage} from '../savings/savings';\nimport {TransactionsPage} from '../transactions/transactions';\nimport {UpdateAccountPage} from '../update-account/update-account';\nimport { AccountTransactionsPage } from '../account-transactions/account-transactions';\n\nimport {TestServiceProvider} from '../../providers/test-service/test-service';\nimport {ShareServiceProvider} from \"../../providers/share-service/share-service\";\n\n@IonicPage()\n@Component({\n  selector: 'page-accounts',\n  templateUrl: 'accounts.html',\n  providers: [TestServiceProvider]\n})\nexport class AccountsPage {\n\n  accounts = [];\n  transactions = [];\n  accTransactions = [];\n  amountSpent = 0;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public testService: TestServiceProvider,\n              public http: Http, public shareService: ShareServiceProvider) {\n    this.loadAccounts();\n  }\n\n  // Get accounts\n  loadAccounts() {\n    this.testService.getAccounts()\n      .subscribe(data => {\n          // this.accounts = data.accounts.map((data) => {\n          this.accounts = data.result.map((data) => {\n            return {\n              subtype: data.subtype,\n              balance: data.balances.available,\n              accountId: data.account_id\n            }\n          })\n      })\n  }\n\n  listSingleAccTrans(accId) {\n    this.navCtrl.push(AccountTransactionsPage, {id: accId})\n  }\n\n\n  // Push all transactions page\n  ionViewDidEnter() {\n      // this.testService.getTransactions()\n      // .subscribe(data => {\n      //     this.transactions = data.transactions.map((data) => {\n      //       return {\n      //         amount: data.amount,\n      //         name: data.name\n      //       }\n      //     })\n      // })\n\n      this.testService.getList()\n        .subscribe(\n          data => {\n            console.log(\"data: \", data);\n\n            this.transactions = data;\n          }\n        );\n\n  }\n  // ionViewDidEnter() {\n  //   let headers = new Headers();\n  //   headers.append('Content-Type', 'application/json');\n  //   this.http.post('http://localhost:3001/transactions', {headers:headers})\n  //     .map(res => res.json())\n  //     .subscribe(data => {\n  //         this.transactions = data.transactions.map((data) => {\n  //           return {\n  //             amount: data.amount,\n  //             name: data.name\n  //           }\n  //         })\n  //     })\n  // }\n\n  pushAllTransactions(transactions) {\n     this.navCtrl.push('TransactionsPage');\n  }\n\n  getAmountSpent(firstMonth, firstDay, secondMonth, secondDay, thirdMonth, thirdDay) {\n    this.testService.getList()\n      .subscribe(data => {\n        console.log('====================== ', data)\n          this.transactions = data;\n\n          this.transactions.forEach(i => {\n\n            // Get month and day of transaction\n            var date = new Date(i.date);\n            var month = date.getUTCMonth();\n            var day = date.getUTCDate();\n\n            // Get amount from last 3 days\n            if(firstMonth == month && firstDay == day || secondMonth == month && secondDay == day ||\n               thirdMonth == month && thirdDay == day) {\n              this.amountSpent += i.amount;\n            }\n          });\n        },\n        error => alert(error)\n      )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/accounts/accounts.ts"],"sourceRoot":""}
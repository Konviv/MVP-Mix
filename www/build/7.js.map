{"version":3,"sources":["../../src/pages/spend-tracker/spend-tracker.module.ts","../../src/pages/spend-tracker/spend-tracker.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACG;AAUnD,IAAa,sBAAsB;IAAnC;IAAqC,CAAC;IAAD,6BAAC;AAAD,CAAC;AAAzB,sBAAsB;IARlC,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,wEAAgB;SACjB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,wEAAgB,CAAC;SAC3C;KACF,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;ACZO;AACe;AACqB;AAO9E,IAAa,gBAAgB;IAM3B,0BAAmB,OAAsB,EAAS,SAAoB,EAAS,WAAgC;QAA5F,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,gBAAW,GAAX,WAAW,CAAqB;QAJ/G,gBAAW,GAAW,CAAC,CAAC;QACxB,iBAAY,GAAG,EAAE,CAAC;QAClB,gBAAW,GAAG,EAAE,CAAC;QAGf,IAAI,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;QAE7B,8BAA8B;QAC9B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YAC3B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;gBACpB,IAAI,EAAE,WAAW,CAAC,kBAAkB,EAAE,CAAC,QAAQ,EAAE;gBACjD,MAAM,EAAE,CAAC;aACV,CAAC,CAAC;YACH,WAAW,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;QACjD,CAAC;QACD,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,6CAA6C;IAC7C,0CAAe,GAAf;QAAA,iBAkCC;QAjCC,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE;aAC/B,SAAS,CACR,cAAI;YACF,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAC,IAAI;gBAEvC,mBAAmB;gBACnB,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC5B,IAAI,IAAI,GAAG,CAAC,CAAC,kBAAkB,EAAE,CAAC,QAAQ,EAAE,CAAC;gBAE7C,yCAAyC;gBACzC,EAAE,CAAC,CAAC,IAAI,IAAI,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBAC7B,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC;gBACxC,CAAC;gBAED,MAAM,CAAC;oBACL,MAAM,EAAE,IAAI,CAAC,MAAM;oBACnB,IAAI,EAAE,CAAC,CAAC,kBAAkB,EAAE;iBAC7B,CAAC;YACJ,CAAC,CAAC,CAAC;YAEH,oBAAoB;YACpB,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,WAAC;gBACxB,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;oBACrB,WAAW,IAAI,CAAC,CAAC,MAAM,CAAC;gBAC1B,CAAC;YACH,CAAC,CAAC,CAAC;YAEH,KAAI,CAAC,WAAW,GAAG,WAAW,GAAG,CAAC,CAAC;YACnC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC9B,CAAC,EACD,eAAK,IAAI,YAAK,CAAC,KAAK,CAAC,EAAZ,CAAY,CACtB,CAAC;IACN,CAAC;IACH,uBAAC;AAAD,CAAC;AAxDY,gBAAgB;IAJ5B,wEAAS,CAAC;QACT,QAAQ,EAAE,oBAAoB;OACG;KAClC,CAAC;qBAO+G;AAkDhH;SAxDY,gBAAgB,gB","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SpendTrackerPage } from './spend-tracker';\n\n@NgModule({\n  declarations: [\n    SpendTrackerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SpendTrackerPage),\n  ],\n})\nexport class SpendTrackerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spend-tracker/spend-tracker.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {TestServiceProvider} from \"../../providers/test-service/test-service\";\n\n@IonicPage()\n@Component({\n  selector: 'page-spend-tracker',\n  templateUrl: 'spend-tracker.html',\n})\nexport class SpendTrackerPage {\n\n  sevenDayAvg: number = 0;\n  transactions = [];\n  dailyAmount = [];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public testService: TestServiceProvider) {\n    var currentDate = new Date();\n\n    // Fill array with date as key\n    for (let i = 0; i < 7; i++) {\n      this.dailyAmount.push({\n        date: currentDate.toLocaleDateString().toString(),\n        amount: 0\n      });\n      currentDate.setDate(currentDate.getDate() - 1);\n    }\n    this.getTransactions();\n  }\n\n  // Get amount spent each day in the past week\n  getTransactions() {\n    this.testService.getTransactions()\n      .subscribe(\n        data => {\n          this.transactions = data.result.map((data) => {\n\n            // Get current date\n            var d = new Date(data.date);\n            var date = d.toLocaleDateString().toString();\n\n            // Increment amount in correct key (date)\n            if (date in this.dailyAmount) {\n              this.dailyAmount[date] += data.amount;\n            }\n\n            return {\n              amount: data.amount,\n              date: d.toLocaleDateString()\n            };\n          });\n\n          // Get 7 day average\n          let totalAmount = 0;\n          this.dailyAmount.forEach(i => {\n            if (i.amount != null) {\n              totalAmount += i.amount;\n            }\n          });\n\n          this.sevenDayAvg = totalAmount / 7;\n          this.sevenDayAvg.toFixed(2);\n        },\n        error => alert(error)\n      );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spend-tracker/spend-tracker.ts"],"sourceRoot":""}